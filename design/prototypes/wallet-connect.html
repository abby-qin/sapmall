<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>连接钱包 - Sapphire Mall</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'sapphire': {
                            50: '#eff6ff',
                            100: '#dbeafe', 
                            200: '#bfdbfe',
                            300: '#93c5fd',
                            400: '#60a5fa',
                            500: '#3b82f6',
                            600: '#2563eb',
                            700: '#1d4ed8',
                            800: '#1e40af',
                            900: '#1e3a8a'
                        }
                    }
                }
            }
        }
    </script>
    <style>
        body {
            background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
        }
        .gradient-border {
            background: linear-gradient(45deg, #3b82f6, #8b5cf6);
            padding: 2px;
            border-radius: 16px;
        }
        .gradient-border-content {
            background: #1f2937;
            border-radius: 14px;
            padding: 1.5rem;
        }
        .wallet-card {
            transition: all 0.3s ease;
            cursor: pointer;
        }
        .wallet-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 20px 40px rgba(59, 130, 246, 0.3);
        }
        .network-badge {
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.7; }
        }
        .connecting-spinner {
            animation: spin 1s linear infinite;
        }
        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
    </style>
</head>
<body class="min-h-screen text-white">
    <!-- Header -->
    <header class="bg-gray-900/50 backdrop-blur-sm border-b border-gray-700">
        <div class="container mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-3">
                    <div class="w-10 h-10 bg-gradient-to-br from-sapphire-500 to-purple-600 rounded-lg flex items-center justify-center">
                        <i class="fas fa-gem text-white text-lg"></i>
                    </div>
                    <div>
                        <h1 class="text-xl font-bold bg-gradient-to-r from-sapphire-400 to-purple-400 bg-clip-text text-transparent">Sapphire Mall</h1>
                        <p class="text-xs text-gray-400">Web3虚拟商品交易平台</p>
                    </div>
                </div>
                <button onclick="goBack()" class="text-gray-400 hover:text-white transition-colors">
                    <i class="fas fa-times text-xl"></i>
                </button>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="container mx-auto px-6 py-8">
        <!-- Connection Status -->
        <div id="connectionStatus" class="mb-8">
            <!-- Disconnected State -->
            <div id="disconnectedState" class="text-center">
                <div class="w-24 h-24 bg-gradient-to-br from-sapphire-500 to-purple-600 rounded-full mx-auto mb-6 flex items-center justify-center">
                    <i class="fas fa-wallet text-white text-3xl"></i>
                </div>
                <h2 class="text-3xl font-bold mb-4">连接您的钱包</h2>
                <p class="text-gray-400 text-lg max-w-md mx-auto">
                    选择您偏好的钱包以开始使用Sapphire Mall平台
                </p>
            </div>

            <!-- Connecting State -->
            <div id="connectingState" class="text-center hidden">
                <div class="w-24 h-24 bg-gradient-to-br from-sapphire-500 to-purple-600 rounded-full mx-auto mb-6 flex items-center justify-center">
                    <i class="fas fa-spinner connecting-spinner text-white text-3xl"></i>
                </div>
                <h2 class="text-3xl font-bold mb-4">正在连接...</h2>
                <p class="text-gray-400 text-lg max-w-md mx-auto">
                    请在您的钱包中确认连接请求
                </p>
            </div>

            <!-- Connected State -->
            <div id="connectedState" class="text-center hidden">
                <div class="w-24 h-24 bg-gradient-to-br from-green-500 to-emerald-600 rounded-full mx-auto mb-6 flex items-center justify-center">
                    <i class="fas fa-check text-white text-3xl"></i>
                </div>
                <h2 class="text-3xl font-bold mb-4">钱包连接成功</h2>
                <p class="text-gray-400 text-lg max-w-md mx-auto mb-6">
                    欢迎来到Sapphire Mall！
                </p>
                <div class="bg-gray-800/50 rounded-xl p-4 max-w-md mx-auto">
                    <div class="flex items-center justify-between">
                        <span class="text-gray-400">账户地址</span>
                        <span class="text-sapphire-400 font-mono text-sm" id="connectedAddress">0x1234...5678</span>
                    </div>
                    <div class="flex items-center justify-between mt-2">
                        <span class="text-gray-400">网络</span>
                        <span class="text-green-400" id="connectedNetwork">Ethereum Mainnet</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- Network Selection -->
        <div class="mb-8">
            <h3 class="text-xl font-bold mb-4 text-center">选择网络</h3>
            <div class="grid grid-cols-2 md:grid-cols-4 gap-4 max-w-4xl mx-auto">
                <!-- Ethereum -->
                <div class="network-option gradient-border" data-network="ethereum" onclick="selectNetwork('ethereum')">
                    <div class="gradient-border-content text-center">
                        <img src="https://cryptologos.cc/logos/ethereum-eth-logo.png" alt="Ethereum" class="w-12 h-12 mx-auto mb-3">
                        <h4 class="font-semibold">Ethereum</h4>
                        <p class="text-sm text-gray-400">主网</p>
                        <div class="network-badge w-3 h-3 bg-green-500 rounded-full mx-auto mt-2"></div>
                    </div>
                </div>

                <!-- Polygon -->
                <div class="network-option gradient-border" data-network="polygon" onclick="selectNetwork('polygon')">
                    <div class="gradient-border-content text-center">
                        <img src="https://cryptologos.cc/logos/polygon-matic-logo.png" alt="Polygon" class="w-12 h-12 mx-auto mb-3">
                        <h4 class="font-semibold">Polygon</h4>
                        <p class="text-sm text-gray-400">低费用</p>
                        <div class="w-3 h-3 bg-purple-500 rounded-full mx-auto mt-2"></div>
                    </div>
                </div>

                <!-- BSC -->
                <div class="network-option gradient-border" data-network="bsc" onclick="selectNetwork('bsc')">
                    <div class="gradient-border-content text-center">
                        <img src="https://cryptologos.cc/logos/bnb-bnb-logo.png" alt="BSC" class="w-12 h-12 mx-auto mb-3">
                        <h4 class="font-semibold">BSC</h4>
                        <p class="text-sm text-gray-400">高速</p>
                        <div class="w-3 h-3 bg-yellow-500 rounded-full mx-auto mt-2"></div>
                    </div>
                </div>

                <!-- Sepolia Testnet -->
                <div class="network-option gradient-border" data-network="sepolia" onclick="selectNetwork('sepolia')">
                    <div class="gradient-border-content text-center">
                        <img src="https://cryptologos.cc/logos/ethereum-eth-logo.png" alt="Sepolia" class="w-12 h-12 mx-auto mb-3">
                        <h4 class="font-semibold">Sepolia</h4>
                        <p class="text-sm text-gray-400">测试网</p>
                        <div class="w-3 h-3 bg-blue-500 rounded-full mx-auto mt-2"></div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Wallet Options -->
        <div class="max-w-2xl mx-auto">
            <h3 class="text-xl font-bold mb-6 text-center">选择钱包</h3>
            <div class="space-y-4">
                <!-- MetaMask -->
                <div class="wallet-card gradient-border" onclick="connectWallet('metamask')">
                    <div class="gradient-border-content">
                        <div class="flex items-center justify-between">
                            <div class="flex items-center space-x-4">
                                <img src="https://upload.wikimedia.org/wikipedia/commons/3/36/MetaMask_Fox.svg" alt="MetaMask" class="w-12 h-12">
                                <div>
                                    <h4 class="text-lg font-semibold">MetaMask</h4>
                                    <p class="text-gray-400 text-sm">最受欢迎的Web3钱包</p>
                                </div>
                            </div>
                            <div class="flex items-center space-x-2">
                                <span class="text-green-400 text-sm">推荐</span>
                                <i class="fas fa-chevron-right text-gray-400"></i>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- WalletConnect -->
                <div class="wallet-card gradient-border" onclick="connectWallet('walletconnect')">
                    <div class="gradient-border-content">
                        <div class="flex items-center justify-between">
                            <div class="flex items-center space-x-4">
                                <img src="https://walletconnect.org/walletconnect-logo.svg" alt="WalletConnect" class="w-12 h-12">
                                <div>
                                    <h4 class="text-lg font-semibold">WalletConnect</h4>
                                    <p class="text-gray-400 text-sm">连接移动端钱包</p>
                                </div>
                            </div>
                            <div class="flex items-center space-x-2">
                                <span class="text-blue-400 text-sm">移动端</span>
                                <i class="fas fa-chevron-right text-gray-400"></i>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Coinbase Wallet -->
                <div class="wallet-card gradient-border" onclick="connectWallet('coinbase')">
                    <div class="gradient-border-content">
                        <div class="flex items-center justify-between">
                            <div class="flex items-center space-x-4">
                                <img src="https://www.coinbase.com/favicon.ico" alt="Coinbase" class="w-12 h-12">
                                <div>
                                    <h4 class="text-lg font-semibold">Coinbase Wallet</h4>
                                    <p class="text-gray-400 text-sm">安全可靠的企业级钱包</p>
                                </div>
                            </div>
                            <div class="flex items-center space-x-2">
                                <span class="text-purple-400 text-sm">企业级</span>
                                <i class="fas fa-chevron-right text-gray-400"></i>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Rainbow -->
                <div class="wallet-card gradient-border" onclick="connectWallet('rainbow')">
                    <div class="gradient-border-content">
                        <div class="flex items-center justify-between">
                            <div class="flex items-center space-x-4">
                                <div class="w-12 h-12 bg-gradient-to-br from-pink-500 to-purple-600 rounded-lg flex items-center justify-center">
                                    <i class="fas fa-rainbow text-white"></i>
                                </div>
                                <div>
                                    <h4 class="text-lg font-semibold">Rainbow</h4>
                                    <p class="text-gray-400 text-sm">漂亮易用的移动钱包</p>
                                </div>
                            </div>
                            <div class="flex items-center space-x-2">
                                <span class="text-pink-400 text-sm">美观</span>
                                <i class="fas fa-chevron-right text-gray-400"></i>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Trust Wallet -->
                <div class="wallet-card gradient-border" onclick="connectWallet('trust')">
                    <div class="gradient-border-content">
                        <div class="flex items-center justify-between">
                            <div class="flex items-center space-x-4">
                                <img src="https://trustwallet.com/assets/images/media/assets/trust_platform.svg" alt="Trust Wallet" class="w-12 h-12">
                                <div>
                                    <h4 class="text-lg font-semibold">Trust Wallet</h4>
                                    <p class="text-gray-400 text-sm">多链支持钱包</p>
                                </div>
                            </div>
                            <div class="flex items-center space-x-2">
                                <span class="text-orange-400 text-sm">多链</span>
                                <i class="fas fa-chevron-right text-gray-400"></i>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Help Section -->
        <div class="mt-12 max-w-2xl mx-auto">
            <div class="bg-gray-800/50 rounded-xl p-6">
                <h4 class="text-lg font-semibold mb-4 flex items-center">
                    <i class="fas fa-question-circle text-sapphire-400 mr-3"></i>
                    需要帮助？
                </h4>
                <div class="space-y-3">
                    <div class="flex items-start space-x-3">
                        <i class="fas fa-info-circle text-blue-400 mt-1"></i>
                        <div>
                            <p class="text-gray-300">什么是钱包？</p>
                            <p class="text-gray-500 text-sm">钱包让您能够安全地存储和管理您的数字资产，并与Web3应用交互。</p>
                        </div>
                    </div>
                    <div class="flex items-start space-x-3">
                        <i class="fas fa-shield-alt text-green-400 mt-1"></i>
                        <div>
                            <p class="text-gray-300">钱包安全吗？</p>
                            <p class="text-gray-500 text-sm">钱包使用先进的加密技术保护您的资产。请确保下载官方版本并妥善保管助记词。</p>
                        </div>
                    </div>
                    <div class="flex items-start space-x-3">
                        <i class="fas fa-download text-purple-400 mt-1"></i>
                        <div>
                            <p class="text-gray-300">如何下载钱包？</p>
                            <p class="text-gray-500 text-sm">您可以从官方网站或应用商店下载钱包应用。点击上方钱包名称查看下载链接。</p>
                        </div>
                    </div>
                </div>
                <div class="mt-6 flex flex-col sm:flex-row gap-3">
                    <button class="flex-1 bg-sapphire-600 hover:bg-sapphire-700 text-white py-2 px-4 rounded-lg transition-colors">
                        <i class="fas fa-book mr-2"></i>
                        钱包使用指南
                    </button>
                    <button class="flex-1 border border-gray-600 hover:border-sapphire-500 text-gray-300 hover:text-white py-2 px-4 rounded-lg transition-colors">
                        <i class="fas fa-headset mr-2"></i>
                        联系客服
                    </button>
                </div>
            </div>
        </div>

        <!-- Success Actions -->
        <div id="successActions" class="mt-8 hidden">
            <div class="max-w-md mx-auto space-y-4">
                <button onclick="goToApp()" class="w-full bg-gradient-to-r from-sapphire-500 to-purple-600 text-white py-4 px-6 rounded-lg text-lg font-semibold hover:from-sapphire-600 hover:to-purple-700 transition-all duration-300">
                    <i class="fas fa-rocket mr-3"></i>
                    进入应用
                </button>
                <button onclick="goToProfile()" class="w-full border border-gray-600 text-gray-300 hover:text-white hover:border-sapphire-500 py-3 px-6 rounded-lg transition-colors">
                    <i class="fas fa-user-circle mr-3"></i>
                    查看个人中心
                </button>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="mt-12 bg-gray-900/50 border-t border-gray-700 py-6">
        <div class="container mx-auto px-6 text-center">
            <p class="text-gray-400 text-sm">
                通过连接钱包，您同意我们的 
                <a href="#" class="text-sapphire-400 hover:text-sapphire-300">服务条款</a> 和 
                <a href="#" class="text-sapphire-400 hover:text-sapphire-300">隐私政策</a>
            </p>
        </div>
    </footer>

    <script>
        let selectedNetwork = 'ethereum';
        let isConnecting = false;

        // Network selection
        function selectNetwork(network) {
            if (isConnecting) return;
            
            selectedNetwork = network;
            
            // Update UI
            document.querySelectorAll('.network-option').forEach(option => {
                option.classList.remove('ring-2', 'ring-sapphire-500');
            });
            
            document.querySelector(`[data-network="${network}"]`).classList.add('ring-2', 'ring-sapphire-500');
            
            // Show network selected feedback
            showToast(`已选择 ${getNetworkName(network)} 网络`);
        }

        // Wallet connection
        async function connectWallet(walletType) {
            if (isConnecting) return;
            
            isConnecting = true;
            showConnectingState();
            
            try {
                // Simulate wallet connection process
                await simulateWalletConnection(walletType);
                
                // Show success state
                showConnectedState();
                showToast('钱包连接成功！', 'success');
                
            } catch (error) {
                console.error('Connection failed:', error);
                showDisconnectedState();
                showToast('连接失败，请重试', 'error');
            } finally {
                isConnecting = false;
            }
        }

        // Simulate wallet connection
        function simulateWalletConnection(walletType) {
            return new Promise((resolve, reject) => {
                // Simulate connection delay
                setTimeout(() => {
                    if (Math.random() > 0.1) { // 90% success rate
                        resolve({
                            address: '0x742d35Cc6484C43f556E5d1ea5B5cE2c59c1e6b7',
                            network: selectedNetwork,
                            walletType: walletType
                        });
                    } else {
                        reject(new Error('User rejected connection'));
                    }
                }, 2000 + Math.random() * 2000); // 2-4 seconds
            });
        }

        // UI State Management
        function showDisconnectedState() {
            document.getElementById('disconnectedState').classList.remove('hidden');
            document.getElementById('connectingState').classList.add('hidden');
            document.getElementById('connectedState').classList.add('hidden');
            document.getElementById('successActions').classList.add('hidden');
        }

        function showConnectingState() {
            document.getElementById('disconnectedState').classList.add('hidden');
            document.getElementById('connectingState').classList.remove('hidden');
            document.getElementById('connectedState').classList.add('hidden');
            document.getElementById('successActions').classList.add('hidden');
        }

        function showConnectedState() {
            document.getElementById('disconnectedState').classList.add('hidden');
            document.getElementById('connectingState').classList.add('hidden');
            document.getElementById('connectedState').classList.remove('hidden');
            document.getElementById('successActions').classList.remove('hidden');
            
            // Update connected info
            document.getElementById('connectedAddress').textContent = '0x742d...e6b7';
            document.getElementById('connectedNetwork').textContent = getNetworkName(selectedNetwork);
        }

        // Utility functions
        function getNetworkName(network) {
            const networks = {
                'ethereum': 'Ethereum Mainnet',
                'polygon': 'Polygon',
                'bsc': 'BSC',
                'sepolia': 'Sepolia Testnet'
            };
            return networks[network] || 'Unknown Network';
        }

        function showToast(message, type = 'info') {
            // Create toast element
            const toast = document.createElement('div');
            toast.className = `fixed top-4 right-4 z-50 px-6 py-3 rounded-lg text-white transition-all duration-300 transform translate-x-full`;
            
            if (type === 'success') {
                toast.classList.add('bg-green-600');
            } else if (type === 'error') {
                toast.classList.add('bg-red-600');
            } else {
                toast.classList.add('bg-sapphire-600');
            }
            
            toast.textContent = message;
            document.body.appendChild(toast);
            
            // Show toast
            setTimeout(() => {
                toast.classList.remove('translate-x-full');
            }, 100);
            
            // Hide toast
            setTimeout(() => {
                toast.classList.add('translate-x-full');
                setTimeout(() => {
                    document.body.removeChild(toast);
                }, 300);
            }, 3000);
        }

        // Navigation functions
        function goBack() {
            showToast('返回主页');
            // In real app, would navigate back
        }

        function goToApp() {
            showToast('进入应用...');
            // In real app, would navigate to main app
        }

        function goToProfile() {
            showToast('跳转到个人中心...');
            // In real app, would navigate to profile
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            // Select Ethereum by default
            selectNetwork('ethereum');
            
            // Add hover effects to wallet cards
            document.querySelectorAll('.wallet-card').forEach(card => {
                card.addEventListener('mouseenter', function() {
                    this.style.transform = 'translateY(-4px)';
                });
                
                card.addEventListener('mouseleave', function() {
                    this.style.transform = 'translateY(0)';
                });
            });
        });
    </script>
</body>
</html> 