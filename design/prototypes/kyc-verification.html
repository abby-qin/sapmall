<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KYC认证 - Sapphire Mall</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'sapphire': {
                            50: '#eff6ff',
                            100: '#dbeafe', 
                            200: '#bfdbfe',
                            300: '#93c5fd',
                            400: '#60a5fa',
                            500: '#3b82f6',
                            600: '#2563eb',
                            700: '#1d4ed8',
                            800: '#1e40af',
                            900: '#1e3a8a'
                        }
                    }
                }
            }
        }
    </script>
    <style>
        body {
            background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
        }
        .gradient-border {
            background: linear-gradient(45deg, #3b82f6, #8b5cf6);
            padding: 2px;
            border-radius: 16px;
        }
        .gradient-border-content {
            background: #1f2937;
            border-radius: 14px;
            padding: 1.5rem;
        }
        .step-active {
            background: linear-gradient(90deg, #3b82f6, #8b5cf6);
            color: white;
        }
        .step-completed {
            background: #10b981;
            color: white;
        }
        .step-pending {
            background: #374151;
            color: #9ca3af;
        }
        .upload-area {
            border: 2px dashed #374151;
            transition: all 0.3s ease;
        }
        .upload-area:hover {
            border-color: #3b82f6;
            background: rgba(59, 130, 246, 0.05);
        }
        .upload-area.dragover {
            border-color: #8b5cf6;
            background: rgba(139, 92, 246, 0.1);
        }
        .progress-bar {
            background: linear-gradient(90deg, #10b981, #059669);
            transition: width 0.5s ease;
        }
        .id-card-front, .id-card-back {
            position: relative;
            border-radius: 12px;
            overflow: hidden;
            background: linear-gradient(135deg, #1f2937, #374151);
        }
    </style>
</head>
<body class="min-h-screen text-white">
    <!-- Header -->
    <nav class="bg-gray-900/50 backdrop-blur-sm border-b border-gray-700 sticky top-0 z-50">
        <div class="container mx-auto px-6 py-4">
            <div class="flex items-center justify-between">
                <div class="flex items-center space-x-3">
                    <div class="w-10 h-10 bg-gradient-to-br from-sapphire-500 to-purple-600 rounded-lg flex items-center justify-center">
                        <i class="fas fa-gem text-white text-lg"></i>
                    </div>
                    <div>
                        <h1 class="text-xl font-bold bg-gradient-to-r from-sapphire-400 to-purple-400 bg-clip-text text-transparent">Sapphire Mall</h1>
                        <p class="text-xs text-gray-400">KYC身份认证</p>
                    </div>
                </div>

                <!-- Progress Indicator -->
                <div class="flex items-center space-x-2">
                    <div class="text-sm text-gray-400">认证进度</div>
                    <div class="flex items-center space-x-1">
                        <div class="w-20 h-2 bg-gray-700 rounded-full overflow-hidden">
                            <div class="progress-bar h-full" style="width: 60%" id="progressBar"></div>
                        </div>
                        <span class="text-sm text-sapphire-400 font-medium" id="progressText">60%</span>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <main class="container mx-auto px-6 py-8">
        <div class="max-w-4xl mx-auto">
            <!-- KYC Steps -->
            <div class="mb-8">
                <div class="flex items-center justify-between">
                    <div class="flex flex-col items-center space-y-2">
                        <div class="step-completed w-12 h-12 rounded-full flex items-center justify-center text-lg font-bold">
                            <i class="fas fa-check"></i>
                        </div>
                        <span class="text-sm text-green-400 font-medium">个人信息</span>
                    </div>
                    <div class="flex-1 h-1 bg-gray-700 mx-4">
                        <div class="h-full bg-green-500 w-full"></div>
                    </div>
                    <div class="flex flex-col items-center space-y-2">
                        <div class="step-active w-12 h-12 rounded-full flex items-center justify-center text-lg font-bold">
                            2
                        </div>
                        <span class="text-sm text-sapphire-400 font-medium">身份验证</span>
                    </div>
                    <div class="flex-1 h-1 bg-gray-700 mx-4">
                        <div class="h-full bg-sapphire-500 w-1/2"></div>
                    </div>
                    <div class="flex flex-col items-center space-y-2">
                        <div class="step-pending w-12 h-12 rounded-full flex items-center justify-center text-lg font-bold">
                            3
                        </div>
                        <span class="text-sm text-gray-400 font-medium">人脸识别</span>
                    </div>
                    <div class="flex-1 h-1 bg-gray-700 mx-4"></div>
                    <div class="flex flex-col items-center space-y-2">
                        <div class="step-pending w-12 h-12 rounded-full flex items-center justify-center text-lg font-bold">
                            4
                        </div>
                        <span class="text-sm text-gray-400 font-medium">审核完成</span>
                    </div>
                </div>
            </div>

            <!-- Current Step: Identity Verification -->
            <div class="gradient-border mb-8">
                <div class="gradient-border-content">
                    <div class="text-center mb-8">
                        <div class="w-20 h-20 bg-gradient-to-br from-sapphire-500 to-purple-600 rounded-full mx-auto mb-4 flex items-center justify-center">
                            <i class="fas fa-id-card text-white text-3xl"></i>
                        </div>
                        <h2 class="text-3xl font-bold mb-4">身份证件验证</h2>
                        <p class="text-gray-400 text-lg max-w-2xl mx-auto">
                            请上传您的身份证正反面照片，确保信息清晰可见。我们将使用最高级别的安全措施保护您的个人信息。
                        </p>
                    </div>

                    <!-- Document Upload Section -->
                    <div class="grid md:grid-cols-2 gap-8 mb-8">
                        <!-- ID Card Front -->
                        <div>
                            <h3 class="text-lg font-bold mb-4 flex items-center">
                                <i class="fas fa-id-card text-sapphire-400 mr-3"></i>
                                身份证正面
                            </h3>
                            <div class="id-card-front upload-area p-8 text-center rounded-xl">
                                <div id="frontUploadArea">
                                    <i class="fas fa-cloud-upload-alt text-4xl text-gray-400 mb-4"></i>
                                    <p class="text-gray-400 mb-4">拖拽文件到此处或点击上传</p>
                                    <button onclick="uploadDocument('front')" class="bg-sapphire-600 hover:bg-sapphire-700 text-white px-6 py-2 rounded-lg transition-colors">
                                        <i class="fas fa-upload mr-2"></i>选择文件
                                    </button>
                                    <p class="text-xs text-gray-500 mt-2">支持 JPG, PNG 格式，最大5MB</p>
                                </div>
                                <div id="frontPreview" class="hidden">
                                    <img src="" alt="身份证正面" class="w-full h-48 object-cover rounded-lg mb-4">
                                    <div class="flex items-center justify-between">
                                        <span class="text-green-400 text-sm"><i class="fas fa-check-circle mr-2"></i>上传成功</span>
                                        <button onclick="removeDocument('front')" class="text-red-400 hover:text-red-300">
                                            <i class="fas fa-trash"></i>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- ID Card Back -->
                        <div>
                            <h3 class="text-lg font-bold mb-4 flex items-center">
                                <i class="fas fa-id-card text-sapphire-400 mr-3"></i>
                                身份证反面
                            </h3>
                            <div class="id-card-back upload-area p-8 text-center rounded-xl">
                                <div id="backUploadArea">
                                    <i class="fas fa-cloud-upload-alt text-4xl text-gray-400 mb-4"></i>
                                    <p class="text-gray-400 mb-4">拖拽文件到此处或点击上传</p>
                                    <button onclick="uploadDocument('back')" class="bg-sapphire-600 hover:bg-sapphire-700 text-white px-6 py-2 rounded-lg transition-colors">
                                        <i class="fas fa-upload mr-2"></i>选择文件
                                    </button>
                                    <p class="text-xs text-gray-500 mt-2">支持 JPG, PNG 格式，最大5MB</p>
                                </div>
                                <div id="backPreview" class="hidden">
                                    <img src="" alt="身份证反面" class="w-full h-48 object-cover rounded-lg mb-4">
                                    <div class="flex items-center justify-between">
                                        <span class="text-green-400 text-sm"><i class="fas fa-check-circle mr-2"></i>上传成功</span>
                                        <button onclick="removeDocument('back')" class="text-red-400 hover:text-red-300">
                                            <i class="fas fa-trash"></i>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Personal Information Form -->
                    <div class="bg-gray-800/50 rounded-xl p-6 mb-8">
                        <h3 class="text-lg font-bold mb-6">个人信息确认</h3>
                        <div class="grid md:grid-cols-2 gap-6">
                            <div>
                                <label class="block text-sm text-gray-400 mb-2">真实姓名</label>
                                <input type="text" id="realName" placeholder="请输入真实姓名" class="w-full bg-gray-800 border border-gray-600 rounded-lg px-3 py-2 text-white focus:border-sapphire-500 focus:outline-none">
                            </div>
                            <div>
                                <label class="block text-sm text-gray-400 mb-2">身份证号码</label>
                                <input type="text" id="idNumber" placeholder="请输入身份证号码" class="w-full bg-gray-800 border border-gray-600 rounded-lg px-3 py-2 text-white focus:border-sapphire-500 focus:outline-none">
                            </div>
                            <div>
                                <label class="block text-sm text-gray-400 mb-2">出生日期</label>
                                <input type="date" id="birthDate" class="w-full bg-gray-800 border border-gray-600 rounded-lg px-3 py-2 text-white focus:border-sapphire-500 focus:outline-none">
                            </div>
                            <div>
                                <label class="block text-sm text-gray-400 mb-2">性别</label>
                                <select id="gender" class="w-full bg-gray-800 border border-gray-600 rounded-lg px-3 py-2 text-white focus:border-sapphire-500 focus:outline-none">
                                    <option value="">请选择性别</option>
                                    <option value="male">男</option>
                                    <option value="female">女</option>
                                </select>
                            </div>
                            <div class="md:col-span-2">
                                <label class="block text-sm text-gray-400 mb-2">居住地址</label>
                                <input type="text" id="address" placeholder="请输入居住地址" class="w-full bg-gray-800 border border-gray-600 rounded-lg px-3 py-2 text-white focus:border-sapphire-500 focus:outline-none">
                            </div>
                        </div>
                    </div>

                    <!-- Verification Status -->
                    <div class="grid md:grid-cols-3 gap-6 mb-8">
                        <div class="bg-gray-800/50 rounded-xl p-4 text-center">
                            <div class="w-12 h-12 bg-green-500 rounded-full mx-auto mb-3 flex items-center justify-center">
                                <i class="fas fa-check text-white"></i>
                            </div>
                            <h4 class="font-semibold mb-2">图像质量检测</h4>
                            <p class="text-sm text-green-400">通过</p>
                        </div>
                        <div class="bg-gray-800/50 rounded-xl p-4 text-center">
                            <div class="w-12 h-12 bg-yellow-500 rounded-full mx-auto mb-3 flex items-center justify-center">
                                <i class="fas fa-clock text-white"></i>
                            </div>
                            <h4 class="font-semibold mb-2">OCR信息提取</h4>
                            <p class="text-sm text-yellow-400">处理中</p>
                        </div>
                        <div class="bg-gray-800/50 rounded-xl p-4 text-center">
                            <div class="w-12 h-12 bg-gray-600 rounded-full mx-auto mb-3 flex items-center justify-center">
                                <i class="fas fa-hourglass text-white"></i>
                            </div>
                            <h4 class="font-semibold mb-2">身份验证</h4>
                            <p class="text-sm text-gray-400">等待中</p>
                        </div>
                    </div>

                    <!-- Actions -->
                    <div class="flex flex-col sm:flex-row gap-4 justify-center">
                        <button onclick="goToPreviousStep()" class="border border-gray-600 text-gray-300 hover:text-white hover:border-sapphire-500 px-8 py-3 rounded-lg transition-colors">
                            <i class="fas fa-arrow-left mr-2"></i>上一步
                        </button>
                        <button id="nextStepBtn" onclick="proceedToNextStep()" class="bg-gradient-to-r from-sapphire-500 to-purple-600 text-white px-8 py-3 rounded-lg hover:from-sapphire-600 hover:to-purple-700 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed" disabled>
                            <i class="fas fa-arrow-right mr-2"></i>下一步 - 人脸识别
                        </button>
                    </div>
                </div>
            </div>

            <!-- Security Information -->
            <div class="gradient-border mb-8">
                <div class="gradient-border-content">
                    <h3 class="text-lg font-bold mb-4 flex items-center">
                        <i class="fas fa-shield-alt text-green-400 mr-3"></i>
                        安全保障
                    </h3>
                    <div class="grid md:grid-cols-3 gap-6">
                        <div class="flex items-start space-x-3">
                            <div class="w-8 h-8 bg-green-500/20 rounded-lg flex items-center justify-center">
                                <i class="fas fa-lock text-green-400"></i>
                            </div>
                            <div>
                                <h4 class="font-semibold mb-1">数据加密</h4>
                                <p class="text-sm text-gray-400">采用银行级256位SSL加密技术保护您的数据传输安全</p>
                            </div>
                        </div>
                        <div class="flex items-start space-x-3">
                            <div class="w-8 h-8 bg-blue-500/20 rounded-lg flex items-center justify-center">
                                <i class="fas fa-eye-slash text-blue-400"></i>
                            </div>
                            <div>
                                <h4 class="font-semibold mb-1">隐私保护</h4>
                                <p class="text-sm text-gray-400">个人信息仅用于身份验证，不会用于其他商业目的</p>
                            </div>
                        </div>
                        <div class="flex items-start space-x-3">
                            <div class="w-8 h-8 bg-purple-500/20 rounded-lg flex items-center justify-center">
                                <i class="fas fa-certificate text-purple-400"></i>
                            </div>
                            <div>
                                <h4 class="font-semibold mb-1">合规认证</h4>
                                <p class="text-sm text-gray-400">符合GDPR、SOX等国际数据保护和安全标准</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- FAQ Section -->
            <div class="gradient-border">
                <div class="gradient-border-content">
                    <h3 class="text-lg font-bold mb-6">常见问题</h3>
                    <div class="space-y-4">
                        <div class="bg-gray-800/50 rounded-lg p-4">
                            <div class="flex items-center justify-between cursor-pointer" onclick="toggleFAQ(1)">
                                <h4 class="font-semibold">为什么需要进行KYC认证？</h4>
                                <i class="fas fa-chevron-down transition-transform" id="faq-1-icon"></i>
                            </div>
                            <div class="mt-3 text-sm text-gray-400 hidden" id="faq-1-content">
                                KYC（了解你的客户）认证是监管要求，有助于防止欺诈、洗钱等违法行为，保护平台和用户的安全。通过认证后，您将享受更高的交易限额和更多平台功能。
                            </div>
                        </div>
                        
                        <div class="bg-gray-800/50 rounded-lg p-4">
                            <div class="flex items-center justify-between cursor-pointer" onclick="toggleFAQ(2)">
                                <h4 class="font-semibold">认证需要多长时间？</h4>
                                <i class="fas fa-chevron-down transition-transform" id="faq-2-icon"></i>
                            </div>
                            <div class="mt-3 text-sm text-gray-400 hidden" id="faq-2-content">
                                通常情况下，完整的KYC认证流程需要1-3个工作日。自动验证部分会在几分钟内完成，人工审核部分可能需要更长时间，我们会及时通知您审核结果。
                            </div>
                        </div>
                        
                        <div class="bg-gray-800/50 rounded-lg p-4">
                            <div class="flex items-center justify-between cursor-pointer" onclick="toggleFAQ(3)">
                                <h4 class="font-semibold">我的个人信息安全吗？</h4>
                                <i class="fas fa-chevron-down transition-transform" id="faq-3-icon"></i>
                            </div>
                            <div class="mt-3 text-sm text-gray-400 hidden" id="faq-3-content">
                                我们采用最高级别的安全措施保护您的个人信息，包括端到端加密、安全存储和严格的访问控制。您的信息仅用于身份验证目的，绝不会泄露给第三方。
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- File Input (Hidden) -->
    <input type="file" id="fileInput" accept=".jpg,.jpeg,.png" style="display: none;" onchange="handleFileSelect(event)">

    <script>
        let currentUploadType = '';
        let uploadedDocuments = {
            front: false,
            back: false
        };

        function uploadDocument(type) {
            currentUploadType = type;
            document.getElementById('fileInput').click();
        }

        function handleFileSelect(event) {
            const file = event.target.files[0];
            if (!file) return;

            // Validate file
            if (!file.type.includes('image/')) {
                showToast('请选择图片文件', 'error');
                return;
            }

            if (file.size > 5 * 1024 * 1024) {
                showToast('文件大小不能超过5MB', 'error');
                return;
            }

            // Show upload progress
            showToast('正在上传文件...', 'info');

            // Simulate upload
            setTimeout(() => {
                const reader = new FileReader();
                reader.onload = function(e) {
                    showDocumentPreview(currentUploadType, e.target.result);
                    uploadedDocuments[currentUploadType] = true;
                    checkUploadCompletion();
                    showToast('文件上传成功！', 'success');
                };
                reader.readAsDataURL(file);
            }, 2000);

            // Reset input
            event.target.value = '';
        }

        function showDocumentPreview(type, imageSrc) {
            const uploadArea = document.getElementById(`${type}UploadArea`);
            const preview = document.getElementById(`${type}Preview`);
            const img = preview.querySelector('img');

            uploadArea.classList.add('hidden');
            preview.classList.remove('hidden');
            img.src = imageSrc;
        }

        function removeDocument(type) {
            const uploadArea = document.getElementById(`${type}UploadArea`);
            const preview = document.getElementById(`${type}Preview`);

            uploadArea.classList.remove('hidden');
            preview.classList.add('hidden');
            uploadedDocuments[type] = false;
            checkUploadCompletion();
            showToast('文件已删除', 'info');
        }

        function checkUploadCompletion() {
            const allUploaded = uploadedDocuments.front && uploadedDocuments.back;
            const nextBtn = document.getElementById('nextStepBtn');
            
            if (allUploaded) {
                nextBtn.disabled = false;
                updateProgress(80);
                
                // Simulate OCR processing
                setTimeout(() => {
                    document.getElementById('realName').value = '张三';
                    document.getElementById('idNumber').value = '110101199001011234';
                    document.getElementById('birthDate').value = '1990-01-01';
                    document.getElementById('gender').value = 'male';
                    document.getElementById('address').value = '北京市朝阳区xxx街道xxx号';
                    
                    showToast('OCR识别完成，请确认信息是否正确', 'success');
                }, 3000);
            } else {
                nextBtn.disabled = true;
                updateProgress(60);
            }
        }

        function updateProgress(percentage) {
            const progressBar = document.getElementById('progressBar');
            const progressText = document.getElementById('progressText');
            
            progressBar.style.width = percentage + '%';
            progressText.textContent = percentage + '%';
        }

        function proceedToNextStep() {
            showToast('正在进入人脸识别步骤...', 'info');
            
            setTimeout(() => {
                updateProgress(100);
                showToast('身份证验证完成！即将进入人脸识别', 'success');
            }, 2000);
        }

        function goToPreviousStep() {
            showToast('返回个人信息步骤', 'info');
        }

        function toggleFAQ(index) {
            const content = document.getElementById(`faq-${index}-content`);
            const icon = document.getElementById(`faq-${index}-icon`);
            
            content.classList.toggle('hidden');
            icon.classList.toggle('rotate-180');
        }

        function showToast(message, type = 'info') {
            const toast = document.createElement('div');
            toast.className = `fixed top-4 right-4 z-50 px-6 py-3 rounded-lg text-white transition-all duration-300 transform translate-x-full`;
            
            if (type === 'success') {
                toast.classList.add('bg-green-600');
            } else if (type === 'error') {
                toast.classList.add('bg-red-600');
            } else {
                toast.classList.add('bg-sapphire-600');
            }
            
            toast.textContent = message;
            document.body.appendChild(toast);
            
            setTimeout(() => toast.classList.remove('translate-x-full'), 100);
            setTimeout(() => {
                toast.classList.add('translate-x-full');
                setTimeout(() => document.body.removeChild(toast), 300);
            }, 3000);
        }

        // Drag and drop functionality
        document.addEventListener('DOMContentLoaded', function() {
            const uploadAreas = document.querySelectorAll('.upload-area');
            
            uploadAreas.forEach(area => {
                area.addEventListener('dragover', function(e) {
                    e.preventDefault();
                    this.classList.add('dragover');
                });
                
                area.addEventListener('dragleave', function(e) {
                    e.preventDefault();
                    this.classList.remove('dragover');
                });
                
                area.addEventListener('drop', function(e) {
                    e.preventDefault();
                    this.classList.remove('dragover');
                    
                    const files = e.dataTransfer.files;
                    if (files.length > 0) {
                        const file = files[0];
                        
                        // Determine upload type based on which area was dropped on
                        if (this.classList.contains('id-card-front')) {
                            currentUploadType = 'front';
                        } else if (this.classList.contains('id-card-back')) {
                            currentUploadType = 'back';
                        }
                        
                        // Simulate file input change
                        const mockEvent = {
                            target: { files: [file], value: '' }
                        };
                        handleFileSelect(mockEvent);
                    }
                });
            });
        });
    </script>
</body>
</html> 